<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Page 2</title>
</head>
<body>
  <h1>Page 2</h1>
  <input id="msg" placeholder="输入要发送的消息">
  <button id="send">发送</button>

  <script>
    // 连接 SharedWorker
    const worker = new SharedWorker("worker.js");

    // 监听消息
    worker.port.onmessage = (e) => {
      console.log("Page2 收到:", e.data);
      alert("Page2 收到: " + e.data);
    };

    // 发送消息
    document.getElementById("send").onclick = () => {
      const msg = document.getElementById("msg").value;
      worker.port.postMessage("来自 Page2 的消息: " + msg);
    };

    // 启动通信
    worker.port.start();
  </script>
</body>
</html>
