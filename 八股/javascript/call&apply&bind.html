<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    Function.prototype.myCall = function (context) {
        context.fn = this //为对象添加方法（this指向调用myCall的函数）
        let args = [...arguments].slice(1) // 剩余的参数
        let res = context.fn(...args)  // 调用该方法，该方法this指向context
        delete context.fn //删除添加的方法
        return res
    }


    Function.prototype.myApply = function (context = window) {
        context.fn = this
        let res
        if (arguments[1]) {
            res = context.fn(...arguments[1])
        } else {
            res = context.fn()
        }
        delete context.fn
        return res
    }

    Function.prototype.myBind = function (context = window) {
        debugger
        let fn = this // 调用bind的函数
        let args = [...arguments].slice(1) // myBind的参数
        let bind = function () {
            let args1 = [...arguments].slice() // bind的参数
            return fn.apply(context, args.concat(args1))
        }
        return bind
    }

    var year = 2021
    function getDate(month, day) {
        console.log(this.year + '-' + month + '-' + day)
    }

    let obj = { year: 2022 }
    // getDate.call(null, 3, 8)    //2021-3-8
    getDate.myCall(obj, 3, 8)     //2022-3-8
    getDate.myApply(obj, [6, 8])  //2022-6-8
    getDate.myBind(obj)(3, 8)     //2022-3-8

</script>

</html>