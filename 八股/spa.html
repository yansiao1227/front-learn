<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="page1Btn">跳转到 Page 1</button>
    <button id="page2Btn">跳转到 Page 2</button>
</body>
<script>

    class Router {
        constructor() {
            this.routes = {};
            this.listerPopState();
        }

        init(path) {
            history.replaceState({ path: path }, null, path);
            this.routes[path] && this.routes[path]();
        }

        route(path, callback) {
            this.routes[path] = callback;
        }

        push(path) {
            history.pushState({ path: path }, null, path);
            this.routes[path] && this.routes[path]();
        }

        listerPopState() {
            window.addEventListener("popstate", (e) => {
                const path = e.state && e.state.path;
                this.routers[path] && this.routers[path]();
            });
        }
    }

    // 使用 Router

    window.miniRouter = new Router();
    miniRouter.route("/", () => console.log("page1"));
    miniRouter.route("/page2", () => console.log("page2"));

    // 为按钮添加点击事件监听器
    document.getElementById("page1Btn").addEventListener("click", () => miniRouter.push("/"));
    document.getElementById("page2Btn").addEventListener("click", () => miniRouter.push("/page2"));



</script>

</html>